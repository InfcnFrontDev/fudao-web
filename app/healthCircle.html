<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="css/global.css">
	<script src="js/jquery.min.js"></script>
</head>
<body>
    <div class="header-box">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;我的健康环</div>
	<div class="boxTop">
		<canvas id="myCanvas" width="280" height="280"></canvas>
	</div>
	
	<div class="boxBottom">
		<div class="textBox">
			<h3 class="h3Box">&nbsp;&nbsp;&nbsp; -&nbsp;&nbsp; 工作阶段</h3>
			<p>茶歇：鸭梨，杏仁，核桃仁</p>
			<p>动：颈部活动操，踮脚跳，虎扑</p>
		</div>
	</div>
	<script>
        var func = function() {
			var date=new Date();
			var hours=date.getHours();
			var minutes=date.getMinutes();
			if(minutes<10){
			    minutes="0"+minutes;
			}
			$('.h3Box').html(''+hours+':'+minutes+'&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;工作阶段')
        };
        func();
        setInterval(func,1000);
        var oCanvas=document.getElementById('myCanvas');
        var context = oCanvas.getContext("2d");

        context.translate(oCanvas.width/2,oCanvas.height/2);
        context.rotate(-Math.PI/360);
        setInterval(drawTime,1000);
        drawTime();
        function drawTime(){
            context.clearRect(-200,-200,375,375)/*因为绘制的原点变了，所以要清除起始坐标也发生了变化*/
            var now = new Date();
            var sec = now.getSeconds();
            var min = now.getMinutes();
            var hr  = now.getHours();
            hr = hr>=12 ? hr-12 : hr;
            //灰色色圈底
            context.save();
            context.arc(0,0,98,0*Math.PI,2*Math.PI);
            context.lineWidth= 16;
            context.strokeStyle="#d3d3d3";
            context.stroke();
            context.closePath();
			/*时针的刻度*/
            for(var i = 0 ;i<24;i++){
                context.beginPath();
                context.lineWidth= 1;
                context.strokeStyle="#939592";
                context.rotate(Math.PI/12);
                context.moveTo(90,0);
                context.lineTo(106,0);
                context.stroke();
            }
			/*时针*/
            context.save();
            context.beginPath();
            context.lineWidth = 4;
            context.strokeStyle="#0097bc";
            context.rotate((hr+min/60+sec/3600)*(Math.PI/6));
            context.rotate(-Math.PI/2);
            context.moveTo(5,0);
            context.lineTo(90,0);
            context.stroke();
            context.restore();
            //内圆环
            context.beginPath();
            context.strokeStyle="#939592";
            context.arc(0,0,90,0, Math.PI*2) ;
            context.stroke();
            //外圆环
            context.beginPath();
            context.strokeStyle="#939592";
            context.arc(0,0,106,0, Math.PI*2) ;
            context.stroke();
            //圆心小圆圈
            context.beginPath();
            context.strokeStyle="#0096bd";
            context.arc(0,0,5,0, Math.PI*2) ;
            context.stroke();
            context.fillStyle="#0096bd";
            context.fill();
            //绿色时间段
            context.save();
            context.beginPath();
            context.lineWidth = 16;
            context.strokeStyle="#a1cc01";
            context.rotate((hr)*(Math.PI/6));
            context.rotate(-Math.PI/2);
            context.arc(0,0,98,0*Math.PI,4*Math.PI/24);
            context.stroke();
            context.restore();
            //内圈数字
            context.save();
            context.beginPath();
            for(var i=1;i<13;i++){
                var x1=Math.sin(i*2*Math.PI/12);
                var y1=-Math.cos(i*2*Math.PI/12);
                context.fillStyle="#0097bc";
                context.font="20px Arial";
                context.textAlign='center';
                context.textBaseline='middle';
                context.fillText(i,x1*76,y1*76);

            }
            context.closePath();
            context.restore();


            //外圈数字
            context.save();
            context.beginPath();
            for(var i=13;i<25;i++){
                var x1=Math.sin(i*2*Math.PI/12);
                var y1=-Math.cos(i*2*Math.PI/12);
                context.fillStyle="#0097bc";
                context.font=" 20px Arial";
                context.textAlign='center';
                context.textBaseline='middle';
                context.fillText(i,x1*120,y1*120);
            }
            context.closePath();
            context.restore();


        }
	</script>
</body>
</html>
